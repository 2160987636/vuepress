(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{490:function(t,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"软件安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#软件安装"}},[t._v("#")]),t._v(" 软件安装")]),t._v(" "),s("h2",{attrs:{id:"下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[t._v("#")]),t._v(" 下载")]),t._v(" "),s("p",[t._v("win10系统: "),s("a",{attrs:{href:"https://www.jidatraffic.com/#/simulation",target:"_blank",rel:"noopener noreferrer"}},[t._v("TESSNG V3.1 二次开发包"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Linux系统: "),s("a",{attrs:{href:"https://www.jidatraffic.com/#/simulation",target:"_blank",rel:"noopener noreferrer"}},[t._v("TESSNG V3.1 二次开发包"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"安装与激活"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装与激活"}},[t._v("#")]),t._v(" 安装与激活")]),t._v(" "),s("p",[s("strong",[t._v("第一步：下载TESSNG Python二次开发包")]),t._v(" "),s("a",{attrs:{href:"https://www.jidatraffic.com/#/simulation",target:"_blank",rel:"noopener noreferrer"}},[t._v("TESSNG V3.1 二次开发包"),s("OutboundLink")],1),s("strong",[t._v("并解压")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%BC%80%E5%8F%91%E5%8C%85%E5%86%85%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8.png",alt:"开发包内文件列表"}})]),t._v(" "),s("p",[t._v("开发包位于软件根目录下，主要文件截图如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%9B%BE1%E5%BC%80%E5%8F%91%E5%8C%85%E4%B8%BB%E8%A6%81%E6%96%87%E4%BB%B6%E6%88%AA%E5%9B%BE_C++.png",alt:"开发包主要文件截图_C++"}})]),t._v(" "),s("p",[s("strong",[t._v("第二步：TESS NG的C++ API运行环境配置")])]),t._v(" "),s("p",[t._v("TESS NG的API可以在VS环境下编译，同时也可以在QT Creator环境下编译。范例工程的源码都是utf-8字符编码，工程文件TESS_API_EXAMPLE.pro是Qt Creator 工程文件，在Qt 5.15.9环境下编译通过，TESS_API_EXAMPLE.vcxproj是VS工程文件，在Visual Studio 2019 + Qt Visual Studio Tools + Qt 5.15.9环境编译通过。  两种环境的配置说明如下：")]),t._v(" "),s("p",[s("strong",[t._v("（1）VS编译环境配置")])]),t._v(" "),s("p",[t._v("(1.1)安装QT5.15.9；")]),t._v(" "),s("p",[t._v("(1.2)安装Visual C++2019，并在此环境下安装插件Qt Visual Studio Tools及Force UTF-8(No BOM)。QT VS Tools安装完成并完成QT的路径设置后，应确认该插件是否识别了正确的QT版本，打开菜单栏Qt VS Tools 下的QT Project Settings选项，在弹出窗口中检查右侧Qt Installation的版本名称与之前选择安装路径的Qt版本是否一致，如不一致，查看Qt Installation下拉框中是否有其他可选版本，如果没有其他选项，建议在QT VS Tools下的Qt Options中重新导入Qt路径；")]),t._v(" "),s("p",[t._v("(1.3) 用Visual C++2019打开范例工程，属性“c/c++”的命令行增加：/utf-8。")]),t._v(" "),s("p",[s("strong",[t._v("（2）Qt Creator编译环境配置")])]),t._v(" "),s("p",[t._v("用户在仅安装QT 5.15.9的情况下，也可以在QT环境实现编译，用户可以根据自己实现的环境，选择平台进行编译测试，QT平台的编译状态如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%9B%BE2_QT%E5%B9%B3%E5%8F%B0%E7%9A%84%E7%BC%96%E8%AF%91%E7%8A%B6%E6%80%81.png",alt:"QT平台的编译状态"}})]),t._v(" "),s("p",[t._v("第三步：启动TESSNG")]),t._v(" "),s("p",[t._v("TESS NG二次开发非常方便，在main.cpp文件中加入简单几行代码就可以启动TESSSNG。代码如下：")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<QtWidgets/QApplication>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<QTextCodec>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<QLibrary>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tessinterface.h"')])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tQString qtPluginDir "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QString")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromLocal8Bit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:/TESSNG/plugins"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QCoreApplication")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addLibraryPath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("qtPluginDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tQApplication "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tQMainWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("pWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tessng")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tpWindow"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showMaximized")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" pWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("结果如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%9B%BE3_%E6%89%93%E5%BC%80%E7%AA%97%E4%BD%93%E7%BB%93%E6%9E%9C.png",alt:"打开窗体结果"}})]),t._v(" "),s("p",[t._v("如果打开TESSNG时自动加载指定路网文件，可以将代码换成：")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("QMainWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("pWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tessng")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQString netFilePath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QString")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromLocal8Bit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:/TESSNG/Example/上海虹桥机场.tess"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQMainWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("pWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tessng")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("netFilePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v('或者在配置文件config.json设置"__netfilepath"属性值为路网文件的全路径名。')]),t._v(" "),s("p",[t._v("结果如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%9B%BE4_API%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6.png",alt:"API打开文件"}})]),t._v(" "),s("p",[t._v("API打开文件")]),t._v(" "),s("p",[t._v("注意：以上两种自动加载路网的方法不能同时使用。")]),t._v(" "),s("p",[t._v("第四步：激活TESSNG软件license")]),t._v(" "),s("p",[t._v("用户在首次使用二次开发包时需要激活软件；激活方式：运行项目，弹出激活弹窗，选择激活license文件。")]),t._v(" "),s("p",[t._v("试用用户与首次激活软件流程相同，采用安装包的Cert文件夹下的JidaTraffic_key激活即可。")]),t._v(" "),s("p",[t._v("​    软件的试用期为30天，以前激活过软件的客户激活V3.0.1版本时重新延长30天试用期（识别激活电脑的物理地址）。试用期结束后将无法调用接口的二次开发功能。")]),t._v(" "),s("p",[t._v("​    商业版用户使用不受限制。")]),t._v(" "),s("p",[t._v("第五步： 激活后关闭弹窗，重新运行项目即可运行范例")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%8C%83%E4%BE%8B%E8%BF%90%E8%A1%8C%E7%95%8C%E9%9D%A2.png",alt:"范例运行界面"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);